<!doctype html>
{% extends "layout.html" %}

{% block css %}
<link rel="stylesheet" href="/static/faq.css"/> 
{% endblock %}

{% block title %} FAQ {% endblock %}

<head>
    <link rel="stylesheet" href="/static/faq.css"/>
</head>

{% block content %}
    <h1>Frequently Asked Questions</h1>

        {% if isAdmin %}

        <!-- put a botton to popup form to submit faq at the top. this button will show only to the admin   -->
        <div class="formcontainer">
            <form action = "/faq.html" method = "POST">
                
              <div class="container mt-5">
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Submit FAQ</button>
                <div class="modal" id="myModal">
                  <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Submit Feedback</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                         
                            <div class="mb-3">
                                <label class="form-label required">Enter the question you want to submit</label>
                                <input type="text"  name = "faq_question"
                                value="{{ request.form['faq_question'] }}"class="form-control">
                            </div>
                            <div class="mb-3">
                                <label class="form-label required">Enter the answer for the question</label>
                                <input type="text"  name = "faq_answer"
                                value="{{ request.form['faq_answer'] }}"class="form-control">
                            </div>
          
                        </div>
                        <div class="modal-footer">
                          <input class="btn" type="submit" name="submit_btn" value="Submit">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
          </form>
          </div>

        {% endif %}


        {% for faq in all_faq %}

        <div class="faq_content"> 
            <div id="question_div" class="question_div "> 
                {{faq.question}}
                <button type="button" id="toggle_button" onclick="toggle_answer()"> + </button>
            </div>
            <div id="answer_div" class="answer_div">
                {{faq.answer}}
            </div>
        </div>

        {% endfor %}

    </div>

{% endblock %}

{% block scripts %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script>
        
        function toggle_answer(){
            var target = document.getElementById("answer_div")
            var target_button = document.getElementById("toggle_button")

            if (target.style.display === "none"){
                target.style.display = "block";
            }
            else {
                target.style.display = "none";
            }

            if(target_button.innerHTML === "+"){
                target_button.innerHTML = "-";
            }
            else{
                target_button.innerHTML = "+";
            }
        } 
    </script>
    

{% endblock %}